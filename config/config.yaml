# Common headers for GitHub Copilot models
copilot_headers: &copilot_headers
  editor-version: vscode/1.108.1
  editor-plugin-version: copilot/1.388.0
  Copilot-Integration-Id: vscode-chat
  user-agent: GithubCopilot/1.388.0

# Pricing anchors for Claude models
haiku_pricing: &haiku_pricing
  input_cost_per_token: 0.000001
  output_cost_per_token: 0.000005

sonnet_pricing: &sonnet_pricing
  input_cost_per_token: 0.000003
  output_cost_per_token: 0.000015

opus_pricing: &opus_pricing
  input_cost_per_token: 0.000005
  output_cost_per_token: 0.000025

model_list:
  # AWS Bedrock - Latest Claude models
  - model_name: aws-bedrock:claude-haiku-4-5
    litellm_params:
      model: bedrock/us.anthropic.claude-haiku-4-5-20251001-v1:0
      aws_region_name: os.environ/AWS_REGION_NAME
      api_base: https://bedrock-runtime.us-east-1.amazonaws.com
    model_info:
      access_groups: ["aws-bedrock"]
      <<: *haiku_pricing

  - model_name: aws-bedrock:claude-sonnet-4-5
    litellm_params:
      model: bedrock/us.anthropic.claude-sonnet-4-5-20250929-v1:0
      aws_region_name: os.environ/AWS_REGION_NAME
      api_base: https://bedrock-runtime.us-east-1.amazonaws.com
    model_info:
      access_groups: ["aws-bedrock"]
      <<: *sonnet_pricing
  
  - model_name: aws-bedrock:claude-opus-4-5
    litellm_params:
      model: bedrock/us.anthropic.claude-opus-4-5-20251101-v1:0
      aws_region_name: os.environ/AWS_REGION_NAME
      api_base: https://bedrock-runtime.us-east-1.amazonaws.com
    model_info:
      access_groups: ["aws-bedrock"]
      <<: *opus_pricing

  # Anthropic - Latest Claude models
  - model_name: haiku
    litellm_params:
      model: anthropic/claude-haiku-4-5-20251001
    model_info:
      access_groups: ["anthropic"]
      <<: *haiku_pricing

  - model_name: sonnet
    litellm_params:
      model: anthropic/claude-sonnet-4-5-20250929
    model_info:
      access_groups: ["anthropic"]
      <<: *sonnet_pricing
  
  - model_name: opus
    litellm_params:
      model: anthropic/claude-opus-4-5-20251101
    model_info:
      access_groups: ["anthropic"]
      <<: *opus_pricing

  # GitHub Copilot - Anthropic Models
  - model_name: github-copilot:claude-haiku-4-5
    litellm_params:
      model: github_copilot/claude-haiku-4.5
      extra_headers: *copilot_headers
    model_info:
      access_groups: ["github-copilot"]
      base_model: "anthropic.claude-haiku-4-5-20251001-v1:0"
      <<: *haiku_pricing

  - model_name: github-copilot:claude-sonnet-4-5
    litellm_params:
      model: github_copilot/claude-sonnet-4.5
      extra_headers: *copilot_headers
    model_info:
      access_groups: ["github-copilot"]
      base_model: "anthropic.claude-sonnet-4-5-20250929-v1:0"
      <<: *sonnet_pricing
    
  - model_name: github-copilot:claude-opus-4-5
    litellm_params:
      model: github_copilot/claude-opus-4.5
      extra_headers: *copilot_headers
    model_info:
      access_groups: ["github-copilot"]
      base_model: "anthropic.claude-opus-4-5-20251101-v1:0"
      <<: *opus_pricing

  - model_name: z-ai:glm-4-7
    litellm_params:
      model: anthropic/glm-4.7
      api_base: os.environ/ZAI_API_BASE
      api_key: os.environ/ZAI_API_KEY
    model_info:
      access_groups: ["z-ai"]
      base_model: "zai/glm-4.7"
      input_cost_per_token: 0.0000006
      output_cost_per_token: 0.0000022

  - model_name: z-ai:glm-4-7-flashx
    litellm_params:
      model: anthropic/glm-4.7-flashx
      api_base: os.environ/ZAI_API_BASE
      api_key: os.environ/ZAI_API_KEY
    model_info:
      access_groups: ["z-ai"]
      base_model: "zai/glm-4.7-flashx"
      input_cost_per_token: 0.00000007
      output_cost_per_token: 0.0000004

router_settings:
  provider_budget_config: 
    bedrock: 
      budget_limit: 10
      time_period: 1d
    # github_copilot: 
    #   budget_limit: 3
    #   time_period: 1d

# General settings
general_settings:
  master_key: os.environ/MASTER_KEY  # Set in .env or environment
  database_url: os.environ/DATABASE_URL  # Optional: for tracking
  store_model_in_db: true
  store_prompts_in_spend_logs: true
  cache: true
  cache_type: "redis"
  cache_redis_host: os.environ/REDIS_HOST
  cache_redis_port: os.environ/REDIS_PORT
  cache_redis_db: 0
  # Log retention settings - keep logs for 1 year, cleanup daily
  maximum_spend_logs_retention_period: "365d"
  maximum_spend_logs_retention_interval: "1d"
  forward_client_headers_to_llm_api: true
  
# OpenAI-compatible endpoint settings
litellm_settings:
  check_provider_endpoint: true
  drop_params: True  # Drop unsupported params
  fallback: []  # Add fallback models if needed
  model_group_settings:
    forward_client_headers_to_llm_api:
      - anthropic/*
      - anthropic:*

# Environment variables to use from .aws profile
environment_variables:
  AWS_PROFILE: os.environ/AWS_PROFILE  # Will use default if not set
  AWS_DEFAULT_REGION: os.environ/AWS_DEFAULT_REGION  # AWS region for Bedrock
  AWS_REGION_NAME: os.environ/AWS_REGION_NAME  # AWS region for Bedrock
  GITHUB_COPILOT_TOKEN_DIR: os.environ/GITHUB_COPILOT_TOKEN_DIR  # Directory for GitHub Copilot tokens
